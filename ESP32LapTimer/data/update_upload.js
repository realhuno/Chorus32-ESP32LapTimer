function e(e){var t=e.loaded/e.total,n=document.getElementById("update_bar"),d=parseInt(100*t);n.style.width=d+"%",n.innerHTML=d+"%"}function t(e){console.log("Upload complete!")}function n(e){console.log("Upload failed!")}document.getElementById("update_button").addEventListener("click",(function(){var d=document.getElementById("update_file").files[0],a=new FormData;a.append("update",d);var o=new XMLHttpRequest;o.upload.addEventListener("progress",e,!1),o.addEventListener("load",t,!1),o.addEventListener("error",n,!1),o.addEventListener("abort",n,!1),o.onreadystatechange=function(){4===o.readyState&&document.write(o.responseText)},o.open("POST","/update",!0),o.send(a)}));